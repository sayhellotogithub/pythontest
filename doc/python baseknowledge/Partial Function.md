**部分適用関数（Partial Function）** とは、関数の一部の引数をあらかじめ固定しておき、残りの引数を後で与えることができる関数です。Pythonでは、`functools` モジュールの `partial()` 関数を使って部分適用を実現できます。

部分適用関数を使用すると、関数の引数を一部固定した新しい関数を作成でき、同じ関数を繰り返し使う際に便利です。

### **1. 部分適用関数の基本的な構文**

```
from functools import partial

# 部分適用関数を作成
new_function = partial(元の関数, 引数1, 引数2, ...)
```

- `partial()` は元の関数を引数として受け取り、その関数の一部の引数を固定した新しい関数を返します。
- 新しい関数は、固定されていない引数だけを受け取ります。

------

### **2. 部分適用関数の例**

#### **① 基本的な例**

まず、引数を2つ受け取る関数を定義し、その一部を固定した部分適用関数を作成します。

```
from functools import partial

def multiply(x, y):
    return x * y

# x=2 を固定し、新しい関数を作成
double = partial(multiply, 2)

# 新しい関数は y のみを引数として受け取る
print(double(5))  # 出力: 10
```

- `double` 関数は、`multiply()` の `x` 引数を2に固定し、`y` 引数だけを受け取ります。
- `double(5)` は `multiply(2, 5)` と同じ意味になります。

------

#### **② 複数の引数を部分適用する**

```
from functools import partial

def power(base, exponent):
    return base ** exponent

# base=2 を固定した部分適用関数
square = partial(power, 2)

# 新しい関数は exponent のみを引数として受け取る
print(square(3))  # 出力: 8 (2 ** 3)
print(square(4))  # 出力: 16 (2 ** 4)
```

- `square` 関数は `power()` の `base` 引数を2に固定し、`exponent` 引数だけを受け取ります。

------

#### **③ `partial()` を使った部分的な引数指定**

`partial()` は、引数の順序を指定して部分的に引数を設定することができます。

```
from functools import partial

def add(a, b, c):
    return a + b + c

# b=5 を固定して新しい関数を作成
add_five = partial(add, b=5)

# 新しい関数は a と c のみを引数として受け取る
print(add_five(3, 2))  # 出力: 10 (3 + 5 + 2)
```

- `add_five` は、`add()` の `b` 引数を5に固定し、残りの `a` と `c` 引数だけを受け取ります。

------

### **3. 部分適用関数の利点**

1. **簡潔さ**：関数を部分的に適用することで、引数を毎回渡さなくても済む場合があります。
2. **再利用性の向上**：よく使う関数の特定の引数を固定しておけば、再利用が容易になります。
3. **柔軟性**：複数の引数を部分的に固定できるので、さまざまな場面で使いやすくなります。

------

### **4. 部分適用関数とデコレータとの違い**

- **デコレータ**は関数の振る舞いを変更したり拡張したりするために使いますが、**部分適用関数**は関数に渡す引数を事前に固定するために使います。
- デコレータは関数のロジックそのものを変更しますが、部分適用関数は関数の引数に対して変更を加えます。

------

### **5. 部分適用関数の実用例**

部分適用関数は、よく使う関数を効率的に扱うために便利です。例えば、APIの呼び出しや複雑な計算を簡単に扱いたい場合に有用です。

#### **例: API 呼び出しの部分適用**

```
from functools import partial
import requests

# APIのベースURLを固定した部分適用関数
get_from_api = partial(requests.get, 'https://api.example.com')

# 新しい関数を使って簡単にAPIを呼び出し
response = get_from_api('/data')
print(response.text)
```

- このように、APIのベースURLを固定しておくことで、繰り返し使う際に便利になります。

------

### **6. まとめ**

- **部分適用関数**は、関数の引数をあらかじめ固定しておき、残りの引数を後で指定できるようにする仕組みです。
- `functools.partial()` を使用して、関数の一部の引数を固定した新しい関数を作成できます。
- 部分適用関数は、コードの再利用性を高め、関数の適用を簡潔にします。